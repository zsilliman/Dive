<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>CUGL 1.2: cugl::audio::AudioNodeQueue Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="web-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CUGL 1.2
   </div>
   <div id="projectbrief">Cornell University Game Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>cugl</b></li><li class="navelem"><a class="el" href="namespacecugl_1_1audio.html">audio</a></li><li class="navelem"><a class="el" href="classcugl_1_1audio_1_1_audio_node_queue.html">AudioNodeQueue</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classcugl_1_1audio_1_1_audio_node_queue-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">cugl::audio::AudioNodeQueue Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_c_u_audio_scheduler_8h_source.html">CUAudioScheduler.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa2c8c94f180f769cf10a084722a1c13d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcugl_1_1audio_1_1_audio_node_queue.html#aa2c8c94f180f769cf10a084722a1c13d">AudioNodeQueue</a> ()</td></tr>
<tr class="separator:aa2c8c94f180f769cf10a084722a1c13d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e3914301a7f4ed6cb96ad9a94e1c250"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcugl_1_1audio_1_1_audio_node_queue.html#a4e3914301a7f4ed6cb96ad9a94e1c250">~AudioNodeQueue</a> ()</td></tr>
<tr class="separator:a4e3914301a7f4ed6cb96ad9a94e1c250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8dd7a5511ec81f8531006ab30032611"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcugl_1_1audio_1_1_audio_node_queue.html#ac8dd7a5511ec81f8531006ab30032611">empty</a> () const </td></tr>
<tr class="separator:ac8dd7a5511ec81f8531006ab30032611"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3b4f539520d2a630e2306c53b01e46f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcugl_1_1audio_1_1_audio_node_queue.html#af3b4f539520d2a630e2306c53b01e46f">push</a> (const std::shared_ptr&lt; <a class="el" href="classcugl_1_1audio_1_1_audio_node.html">AudioNode</a> &gt; &amp;node, Sint32 loops=0)</td></tr>
<tr class="separator:af3b4f539520d2a630e2306c53b01e46f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34725bd8bee5b546d708de2c89f1e572"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcugl_1_1audio_1_1_audio_node_queue.html#a34725bd8bee5b546d708de2c89f1e572">peek</a> (std::shared_ptr&lt; <a class="el" href="classcugl_1_1audio_1_1_audio_node.html">AudioNode</a> &gt; &amp;node, Sint32 &amp;loop) const </td></tr>
<tr class="separator:a34725bd8bee5b546d708de2c89f1e572"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2cb9fff8331912deb5717d19b6ff351"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcugl_1_1audio_1_1_audio_node_queue.html#ae2cb9fff8331912deb5717d19b6ff351">pop</a> (std::shared_ptr&lt; <a class="el" href="classcugl_1_1audio_1_1_audio_node.html">AudioNode</a> &gt; &amp;node, Sint32 &amp;loop)</td></tr>
<tr class="separator:ae2cb9fff8331912deb5717d19b6ff351"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a896b6513af5caf478fae3ed510f97e4c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcugl_1_1audio_1_1_audio_node_queue.html#a896b6513af5caf478fae3ed510f97e4c">fill</a> (std::deque&lt; std::shared_ptr&lt; <a class="el" href="classcugl_1_1audio_1_1_audio_node.html">AudioNode</a> &gt;&gt; &amp;container) const </td></tr>
<tr class="separator:a896b6513af5caf478fae3ed510f97e4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3ed31a6e1ac4ff3d3f00e5183364995"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcugl_1_1audio_1_1_audio_node_queue.html#aa3ed31a6e1ac4ff3d3f00e5183364995">clear</a> ()</td></tr>
<tr class="separator:aa3ed31a6e1ac4ff3d3f00e5183364995"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class provides is a lock free producer-consumer queue,</p>
<p>This queue allows us to add buffers to the source node without interrupting playback. Its implementation is taken from</p>
<p><a href="http://www.drdobbs.com/parallel/writing-lock-free-code-a-corrected-queue/210604448">http://www.drdobbs.com/parallel/writing-lock-free-code-a-corrected-queue/210604448</a></p>
<p>This queue is only designed to support two threads. The producer is the main thread, while the consumer is the audio thread.</p>
<p>This queue does not have a lot of bells and whistles because it is only intended for thread synchronization. We expect the user to maintain what has and has not been appended to the queue. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa2c8c94f180f769cf10a084722a1c13d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cugl::audio::AudioNodeQueue::AudioNodeQueue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates an empty player queue </p>

</div>
</div>
<a class="anchor" id="a4e3914301a7f4ed6cb96ad9a94e1c250"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cugl::audio::AudioNodeQueue::~AudioNodeQueue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disposes of the player queue, releasing all resources </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa3ed31a6e1ac4ff3d3f00e5183364995"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cugl::audio::AudioNodeQueue::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clears all elements in this queue.</p>
<p>This method is thread-safe </p>

</div>
</div>
<a class="anchor" id="ac8dd7a5511ec81f8531006ab30032611"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cugl::audio::AudioNodeQueue::empty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true if the queue is empty.</p>
<p>This method is atomic and thread-safe</p>
<dl class="section return"><dt>Returns</dt><dd>true if the queue is empty. </dd></dl>

</div>
</div>
<a class="anchor" id="a896b6513af5caf478fae3ed510f97e4c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cugl::audio::AudioNodeQueue::fill </td>
          <td>(</td>
          <td class="paramtype">std::deque&lt; std::shared_ptr&lt; <a class="el" href="classcugl_1_1audio_1_1_audio_node.html">AudioNode</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>container</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stores all values in the provided dequeue.</p>
<p>This method only stores the values, not the loop settings. If the queue is empty, the deque is not altered and this method returns false.</p>
<p>This method is thread-safe ASSUMING that <a class="el" href="classcugl_1_1audio_1_1_audio_node_queue.html#af3b4f539520d2a630e2306c53b01e46f">push</a> is only ever called in the same thread (e.g. this is a producer method).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container</td><td>the container to store the values</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the operation was successful </dd></dl>

</div>
</div>
<a class="anchor" id="a34725bd8bee5b546d708de2c89f1e572"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cugl::audio::AudioNodeQueue::peek </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classcugl_1_1audio_1_1_audio_node.html">AudioNode</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Sint32 &amp;&#160;</td>
          <td class="paramname"><em>loop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Looks at the front element this queue.</p>
<p>The element will be stored in the (shared) pointer result. If there is nothing to see, the pointer will store null and the method will return false.</p>
<p>This method is thread-safe</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>the pointer to store the audio node </td></tr>
    <tr><td class="paramname">loop</td><td>the pointer to store the number of loops</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the operation was successful </dd></dl>

</div>
</div>
<a class="anchor" id="ae2cb9fff8331912deb5717d19b6ff351"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cugl::audio::AudioNodeQueue::pop </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classcugl_1_1audio_1_1_audio_node.html">AudioNode</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Sint32 &amp;&#160;</td>
          <td class="paramname"><em>loop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes an entry from the front of this queue.</p>
<p>The element will be stored in the (shared) pointer result. If there is nothing to remove, the pointer will store null and the method will return false.</p>
<p>This method is thread-safe</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>the pointer to store the audio node </td></tr>
    <tr><td class="paramname">loop</td><td>the pointer to store the number of loops</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the operation was successful </dd></dl>

</div>
</div>
<a class="anchor" id="af3b4f539520d2a630e2306c53b01e46f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cugl::audio::AudioNodeQueue::push </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classcugl_1_1audio_1_1_audio_node.html">AudioNode</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Sint32&#160;</td>
          <td class="paramname"><em>loops</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds an entry to the end of this queue.</p>
<p>The loop value is an integer. If it is 0, the audio node will not be looped. If it is positive, it will loop the audio that many (additional) times. If it is negative, the audio node will be looped indefinitely until it is stopped.</p>
<p>This method is thread-safe</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>The node to be scheduled </td></tr>
    <tr><td class="paramname">loop</td><td>The number of times to loop the audio </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/cugl/audio/graph/<a class="el" href="_c_u_audio_scheduler_8h_source.html">CUAudioScheduler.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
